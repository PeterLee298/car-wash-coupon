<view class="coupon-list-container">
  <view class="tabs">
    <view class="tab {{status === 1 ? 'active' : ''}}" bindtap="onTabChange" data-status="1">可用</view>
    <view class="tab {{status === 2 ? 'active' : ''}}" bindtap="onTabChange" data-status="2">已使用</view>
    <view class="tab {{status === 3 ? 'active' : ''}}" bindtap="onTabChange" data-status="3">已过期</view>
  </view>

  <view class="coupon-list">
    <view class="coupon-item {{status !== 1 ? 'disabled' : ''}}" 
          wx:for="{{coupons}}" 
          wx:key="id" 
          bindtap="onCouponTap" 
          data-id="{{item.id}}">
      <view class="coupon-left">
        <text class="coupon-name">{{item.name}}</text>
        <text class="coupon-time">有效期至：{{item.endTime}}</text>
      </view>
      <view class="coupon-right">
        <text class="coupon-status status-{{item.status}}">
          {{item.status === 1 ? '可用' : item.status === 2 ? '已使用' : '已过期'}}
        </text>
      </view>
    </view>

    <view class="empty" wx:if="{{!loading && coupons.length === 0}}">
      <text class="empty-text">暂无卡券</text>
    </view>

    <view class="loading" wx:if="{{loading}}">
      <text>加载中...</text>
    </view>

    <view class="no-more" wx:if="{{!hasMore && coupons.length > 0}}">
      <text>没有更多了</text>
    </view>
  </view>

  <view class="bottom-tips" wx:if="{{status === 1}}">
    <text bindtap="onGoExpired">查看已过期卡券</text>
    <text> | </text>
    <text bindtap="onGoUsed">查看已使用卡券</text>
  </view>
</view>
